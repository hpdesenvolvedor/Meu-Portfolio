const translations = {
  en: {
    "translate-button": "Pt-üáßüá∑", //Removido, agora √© din√¢mico
    "lang-code": "Pt-üáßüá∑", // Nova chave para o c√≥digo da linguagem
    "logo-text": "Raphael's<span> Portfolio</span>",
    "nav-home": "Home",
    "nav-about": "About",
    "nav-services": "Services",
    "nav-contact": "Contact",
    "contact-me": "Contact Me",
    "home-title": "Hi, It's <span>Raphael</span>",
    "home-subtitle": "I'm a <span>Web Developer</span>",
    "home-description":
      "Specialized in crafting complete digital experiences, combining skills in UI/UX design and interface prototyping to deliver intuitive and functional solutions. My work ranges from user-centered planning and design to the development of scalable web applications, focusing on high performance and responsiveness. I strive to align creativity, technology, and best development practices to efficiently meet project needs.",
    hire: "Hire",
    contact: "Contact",
    "about-title": "About <span>Me</span>",
    "about-description":
      "Software development professional with three years of experience at a multinational company with diversified operations in the Oil & Gas and Satellite/Internet sectors, where I worked on challenging projects with a focus on UI/UX design. In the Satellite/Internet sector, I participated in the development of innovative solutions for tracking and monitoring Wi-Fi signals in buses and vans, optimizing connectivity and user experience during transportation. My responsibilities included web application development, creating scalable and responsive interfaces, using technologies such as GitLab for version control, TypeScript for static typing, React and Next.js for the frontend, Node.js and Prisma for the backend, Figma for interface design, TailwindCSS for styling, and Django for web development. One of my main projects was the implementation and updating of the company's Marketplace to a new design standard, which involved refactoring existing components, optimizing the code for better performance, and creating and editing plugins to add new features and keep the website constantly evolving. I possess solid skills in scalable web application development, REST APIs, Agile (Scrum) methodologies, and UI/UX design. Furthermore, I have experience using English daily while working with global teams, which allowed me to collaborate effectively on international projects.",
    "read-less-btn": "Read Less",
    "read-more-btn": "Read More",
    "services-title": "Services",
    "ui-ux-design": "UI / Ux <br>Design",
    "ui-ux-description":
      "I transform ideas into complete digital experiences, creating interfaces that combine functionality and aesthetics. My work involves designing and testing components focused on user experience, ensuring responsive, intuitive, and accessible design. I have the skills to create everything from simple pages to more complex structures, always prioritizing efficient navigation and an attractive visual layout.",
    "frontend-development": "Frontend Development",
    "frontend-description":
      "Specialist in developing modern and scalable interfaces, I offer solutions to enhance websites and systems by fixing bugs, implementing new features, and optimizing performance. I create custom components and complete applications, ensuring a balance between clean design and high functionality, as well as seamless integration with APIs.",
    "backend-development": "Backend Development",
    "backend-description":
      "With experience in languages such as Java and C, I work on bug fixing and integrating the backend with the frontend, ensuring efficient communication between system components. I focus on maintaining stable, optimized applications ready to handle the demands of robust and dynamic projects.",
    "footer-faq": "FAQ",
    "footer-services": "Services",
    "footer-about-me": "About Me",
    "footer-contact": "Contact",
    "footer-copyright": "¬© Raphael Moreira | All Rights Reserved",
    "contact-heading": "Contact <span>Me</span>",
    "send-message-btn": "Send Message",
    "full-name": "Full Name",
    email: "Email",
    "phone-number": "Phone Number",
    subject: "Subject",
    message: "Your Message",
    "email-copied-text": "Email Copied!",
  },
  pt: {
    "translate-button": "üá∫üá∏ en-us", //Removido, agora √© din√¢mico
    "lang-code": "En-üá∫üá∏", // Nova chave para o c√≥digo da linguagem
    "logo-text": "Raphael's<span> Portf√≥lio</span>",
    "nav-home": "Tela Inicial",
    "nav-about": "Sobre",
    "nav-services": "Servi√ßos",
    "nav-contact": "Contato",
    "contact-me": "Contate-me",
    "home-title": "Ol√°, me chamo <span>Raphael</span>",
    "home-subtitle": "Sou um <span>Desenvolvedor Web</span>",
    "home-description":
      "Especializado em criar experi√™ncias digitais completas, combinando habilidades em design UI/UX e prototipagem de interfaces para oferecer solu√ß√µes intuitivas e funcionais. Meu trabalho varia desde o planejamento e design centrados no usu√°rio at√© o desenvolvimento de aplica√ß√µes web escal√°veis, focando em alta performance e responsividade. Esfor√ßo-me para alinhar criatividade, tecnologia e as melhores pr√°ticas de desenvolvimento para atender eficientemente √†s necessidades dos projetos.",
    hire: "Contratar",
    contact: "Contato",
    "about-title": "Sobre <span>Mim</span>",
    "about-description":
      "Profissional com tr√™s anos de experi√™ncia em desenvolvimento de software em uma multinacional com atua√ß√£o diversificada nos setores de √ìleo e G√°s e Sat√©lites/Internet, onde trabalhei em projetos desafiadores com foco em design UI/UX. No setor de Sat√©lites/Internet, participei do desenvolvimento de solu√ß√µes inovadoras para tracking e monitoramento de sinais Wi-Fi em √¥nibus e vans de viagem, otimizando a conectividade e a experi√™ncia do usu√°rio durante o transporte. Minhas responsabilidades inclu√≠am o desenvolvimento de aplica√ß√µes web, a cria√ß√£o de interfaces escal√°veis e responsivas, utilizando tecnologias como GitLab para controle de vers√£o, TypeScript para tipagem est√°tica, React e Next.js para o frontend, Node.js e Prisma para o backend, Figma para design de interfaces, TailwindCSS para estiliza√ß√£o e Django para desenvolvimento web. Um dos meus principais projetos foi a implementa√ß√£o e atualiza√ß√£o do Marketplace da empresa para um novo padr√£o de design, o que envolveu a refatora√ß√£o de componentes existentes, a otimiza√ß√£o do c√≥digo para melhor performance e a cria√ß√£o e edi√ß√£o de plugins para adicionar novas funcionalidades e manter o site em constante evolu√ß√£o. Possuo habilidades s√≥lidas em desenvolvimento de aplica√ß√µes web escal√°veis, APIs REST, metodologias √°geis (Scrum) e design UI/UX.",
    "read-less-btn": "Leia Menos",
    "read-more-btn": "Leia Mais",
    "services-title": "Servi√ßos",
    "ui-ux-design": "UI / Ux <br>Design",
    "ui-ux-description":
      "Transformo ideias em experi√™ncias digitais completas, criando interfaces que aliam funcionalidade e est√©tica. Meu trabalho envolve projetar e testar componentes focados na experi√™ncia do usu√°rio, garantindo design responsivo, intuitivo e acess√≠vel. Tenho habilidades para criar desde p√°ginas simples at√© estruturas mais complexas, sempre priorizando uma navega√ß√£o eficiente e visual atrativo.",
    "frontend-development": "Desenvolvimento Frontend",
    "frontend-description":
      "Especialista em desenvolvimento de interfaces modernas e escal√°veis, ofere√ßo solu√ß√µes para aprimorar sites e sistemas, corrigindo erros, implementando novas funcionalidades e otimizando a performance. Crio componentes personalizados e aplica√ß√µes completas, garantindo um equil√≠brio entre design limpo e alta funcionalidade, al√©m de integra√ß√£o fluida com APIs.",
    "backend-development": "Desenvolvimento Backend",
    "backend-description":
      "Com experi√™ncia em linguagens como Java e C, atuo na corre√ß√£o de bugs e na integra√ß√£o do backend com o frontend, assegurando a comunica√ß√£o eficiente entre as partes do sistema. Foco em manter aplica√ß√µes est√°veis, otimizadas e prontas para lidar com as demandas de projetos robustos e din√¢micos.",
    "footer-faq": "Perguntas Frequentes",
    "footer-services": "Servi√ßos",
    "footer-about-me": "Sobre Mim",
    "footer-contact": "Contato",
    "footer-copyright": "¬© Raphael Moreira | Todos os Direitos Reservados",
    "contact-heading": "Contate <span>Me</span>",
    "send-message-btn": "Enviar Mensagem",
    "full-name": "Nome Completo",
    email: "Email",
    "phone-number": "N√∫mero de Telefone",
    subject: "Assunto",
    message: "Sua Mensagem",
    "email-copied-text": "Email Copiado!",
  },
};
const flagImages = {
  en: "brazil.svg",
  pt: "united-states.svg",
};

function translatePage(lang) {
  const elementsToTranslate = document.querySelectorAll("[data-translate-key]");
  elementsToTranslate.forEach((element) => {
    const key = element.getAttribute("data-translate-key");
    if (translations[lang] && translations[lang][key]) {
      if (element.placeholder !== undefined) {
        element.placeholder = translations[lang][key];
      } else if (element.tagName === "INPUT" && element.type === "submit") {
        element.value = translations[lang][key];
      } else if (element.id === "email-copied-tooltip") {
        element.textContent = translations[lang][key];
      } else {
        element.innerHTML = translations[lang][key];
      }
    }
  });
}

document.addEventListener("DOMContentLoaded", () => {
  const btn = document.getElementById("translate-btn");
  const langCode = document.querySelector(".lang-text");
  const flagImage = document.getElementById("flag-image");

  let currentLang = localStorage.getItem("lang") || "en";
  document.documentElement.lang = currentLang;
  translatePage(currentLang);

  langCode.textContent = translations[currentLang]["translate-button"];
  flagImage.src = flagImages[currentLang];
  flagImage.alt = `Bandeira ${
    currentLang === "pt" ? "do Brasil" : "dos Estados Unidos"
  }`;
  btn.dataset.lang = currentLang;

  btn.addEventListener("click", () => {
    const currentLang = btn.dataset.lang;
    const newLang = currentLang === "pt" ? "en" : "pt";

    btn.dataset.lang = newLang;
    langCode.textContent = translations[newLang]["translate-button"];
    flagImage.src = flagImages[newLang];
    flagImage.alt = `Bandeira ${
      newLang === "pt" ? "do Brasil" : "dos Estados Unidos"
    }`;
    document.documentElement.lang = newLang;
    localStorage.setItem("lang", newLang);
    translatePage(newLang);
  });
});

document.documentElement.lang = "en";

document.addEventListener("DOMContentLoaded", function () {
  const readMoreBtn = document.getElementById("read-more-btn");
  const aboutText = document.getElementById("about-text");

  if (readMoreBtn && aboutText) {
    let isExpanded = false;
    let originalTextHeight = aboutText.scrollHeight;

    // Set initial height to 30%
    aboutText.style.maxHeight = `${originalTextHeight * 0.3}px`;
    aboutText.style.overflow = "hidden";

    readMoreBtn.addEventListener("click", function (event) {
      event.preventDefault();

      if (isExpanded) {
        aboutText.style.maxHeight = `${originalTextHeight * 0.3}px`; // Set back to 30%
        readMoreBtn.textContent =
          translations[document.documentElement.lang]["read-more-btn"];
      } else {
        aboutText.style.maxHeight = originalTextHeight + "px"; // Show full height
        readMoreBtn.textContent =
          translations[document.documentElement.lang]["read-less-btn"];
      }

      isExpanded = !isExpanded;
    });
  }
});

document.addEventListener("DOMContentLoaded", function () {
  let menuIcon = document.querySelector("#menu-icon");
  let navbar = document.querySelector(".navbar");

  if (menuIcon && navbar) {
    menuIcon.onclick = () => {
      menuIcon.classList.toggle("bx-x");
      navbar.classList.toggle("active");
    };
  } else {
    console.error("Elementos menu-icon ou navbar n√£o encontrados!");
  }
});

document.addEventListener("DOMContentLoaded", function () {
  const copyEmailButtons = document.querySelectorAll(".copy-email-btn");
  const emailCopiedTooltips = document.querySelectorAll(
    ".email-copied-tooltip"
  );
  const emailToCopy = "raphael.moreira@soulasalle.com.br";

  copyEmailButtons.forEach((button, index) => {
    button.addEventListener("click", function (event) {
      event.preventDefault();

      navigator.clipboard
        .writeText(emailToCopy)
        .then(() => {
          emailCopiedTooltips[index].classList.add("show"); // Tooltip correto
          setTimeout(() => {
            emailCopiedTooltips[index].classList.remove("show");
          }, 3000);
        })
        .catch((err) => {
          console.error("Falha ao copiar: ", err);
          alert("A c√≥pia para a √°rea de transfer√™ncia n√£o √© suportada.");
        });
    });
  });
});
